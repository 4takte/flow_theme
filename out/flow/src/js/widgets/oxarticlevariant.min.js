!function(t){var a={_create:function(){t("ul.vardrop a").click(e),t("div.variantReset a").click(n),t("form.js-oxWidgetReload").submit(r),t("form.js-oxProductForm").submit(r)},reload:function(a,e,n,i){return t("#zoomModal").remove(),oxAjax.ajax(a,{targetEl:e,iconPosEl:t("#variants .dropDown"),additionalData:i,onSuccess:function(a){t(n).parent().html(a),"undefined"!=typeof WidgetsHandler&&(WidgetsHandler.reloadWidget("oxwarticledetails"),WidgetsHandler.reloadWidget("oxwrating"),WidgetsHandler.reloadWidget("oxwreview"))}}),!1},resetVariantSelections:function(){i()}};function e(a){var e=t(this);if(e.parents().hasClass("js-disabled")?i():t("form.js-oxProductForm input[name=anid]").attr("value",t("form.js-oxProductForm input[name=parentid]").attr("value")),e.parents(".js-fnSubmit").length>0){t("input:hidden",e.parents("div.dropDown")).val(e.data("selection-id"));var n=t("form.js-oxWidgetReload");t("input[name=fnc]",n).val(""),n.submit()}return!1}function n(a){i();var e=t("form.js-oxWidgetReload");return t("input[name=fnc]",e).val(""),e.submit(),!1}function i(){for(var a=t("form.js-oxProductForm input[name^=varselid], form.js-oxWidgetReload input[name^=varselid]"),e=0;e<a.length;e++)t(a[e]).attr("value","");t("form.js-oxProductForm input[name=anid]").attr("value",t("form.js-oxProductForm input[name=parentid]").attr("value"))}function r(){var e={},n=t(this);if(!t("input[name='fnc']",this).val()){if(t("input[name=aid]",this).val()==t("input[name=parentid]",this).val()){var i=t("input[name^=varselid]",t("form.js-oxProductForm"));if(i.length){var r="";if(i.each(function(a){r=r+a+":"+t(this).val()+"|",e[t(this).attr("name")]=t(this).val()}),-1===jQuery.inArray(r,oxVariantSelections))return a.reload(t(n),t("#details_container"),t("#details_container")[0],e)}}return a.reload(t(n),t("#details_container"),t("#details_container")[0],e)}}t.widget("ui.oxArticleVariant",a)}(jQuery);