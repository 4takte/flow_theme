!function(t){oxCountryStateSelect={options:{listItem:"li",select:"select",span:"span",selectedStateId:"selectedStateId"},_create:function(){var t=this,e=t.options,n=t.element,a=t.getStateSelect(n);t.manageStateSelect(a,t.getStates(n.val(),allStates,allCountryIds),t.getStatesValues(n.val(),allStateIds,allCountryIds),e.selectedStateId),n.change(function(){t.manageStateSelect(a,t.getStates(n.val(),allStates,allCountryIds),t.getStatesValues(n.val(),allStateIds,allCountryIds),e.selectedStateId)})},manageStateSelect:function(t,e,n,a){this.removeSelectOptions(t);var o=this.getStateSelectSpan(t);return null!=e&&e.length>0?(this.addSelectOptions(t,n,e,a),o.parent().show()):(o.parent().hide(),this.removeSelectOptions(t)),t},getStateSelect:function(e){return oOptions=this.options,t(e).closest(oOptions.listItem).next(oOptions.listItem).children(oOptions.span).children(oOptions.select)},getStateSelectSpan:function(e){return oOptions=this.options,t(e).parent(oOptions.span)},addSelectOptions:function(e,n,a,o){for(var l=0;l<n.length;l++)o==n[l]?e.append(t('<option selected="selected"></option>').attr("value",n[l]).text(a[l])):e.append(t("<option></option>").attr("value",n[l]).text(a[l]));return e},removeSelectOptions:function(t){return t.find('option[value!=""]').remove().end(),t},getStates:function(t,e,n){return e[n[t]]},getStatesValues:function(t,e,n){return e[n[t]]}},t.widget("ui.oxCountryStateSelect",oxCountryStateSelect)}(jQuery);